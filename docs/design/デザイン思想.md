# デザイン思想

## 概要

本ドキュメントは、FAQ画面および各種ダッシュボード／管理画面で実装されたモダンなダッシュボードデザインの思想とパターンを定義し、他のページへの横展開を可能にするための設計書です。

**デザインコンセプト**: Google Analytics風のモダンなダッシュボードデザイン  
**準拠規約**: `design.protocol.json` に定義された色・タイポグラフィ・余白・コンポーネント仕様と、`frontend/src/styles/ga-design.css` に定義された `.ga-*` クラス群

---

## デザイン原則

### 1. 視認性（Visibility）

- **コントラスト**: テキストと背景のコントラスト比を確保（WCAG AA準拠）
- **サイズ**: 最小フォントサイズ14px、タッチターゲット最小48px
- **行間**: 本文は `line-height: 1.5`、見出しは `1.3` で可読性を確保
- **重要度の分離**: フォントウェイト（400/500/600）と色（primary/secondary/disabled）で情報階層を表現

### 2. UX（User Experience）

- **情報階層**: 明確な見出し構造（h1 → h2 → h3）と視覚的階層
- **明確なクリック領域**: ボタン・リンクは十分なパディングとホバー状態を提供
- **フィードバック**: ホバー・フォーカス・アクティブ状態を視覚的に表現
- **空状態**: 検索結果0件時など、適切なメッセージとアイコンを表示

### 3. モダンさ（Modernity）

- **余白**: 十分なホワイトスペース（spacing: xs/sm/md/lg/xl）
- **控えめな装飾**: シャドウ・ボーダーは最小限（`0px 1px 2px rgba(0,0,0,0.05)`）
- **アクセント**: ブランドカラー（`#1A73E8`）は重要な要素にのみ使用
- **角丸**: カードは `12px`、ボタン・入力は `8px` で統一

---

## カラーシステム

### 基本カラー

```css
/* 背景 */
--bg-primary: #FFFFFF;        /* カード・入力フィールド */
--bg-secondary: #F8F9FA;      /* ページ背景・テーブルヘッダー */
--bg-sidebar: #F1F3F4;        /* サイドバー・ホバー背景 */

/* テキスト */
--text-primary: #202124;      /* 見出し・本文 */
--text-secondary: #5F6368;    /* 補足テキスト・メタ情報 */
--text-disabled: #9AA0A6;     /* 無効状態・プレースホルダー */

/* ブランド */
--brand-primary: #1A73E8;     /* リンク・アクセント */
--brand-hover: #1558B0;       /* ホバー時 */
--brand-light: #E8F0FE;       /* 背景ハイライト */
```

### 使用ルール

- **主要情報**: `--text-primary` + `font-weight: 600`
- **補足情報**: `--text-secondary` + `font-weight: 400`
- **アクセント**: `--brand-primary` はリンク・フォーカス・アクティブ状態にのみ使用
- **背景**: カードは `--bg-primary`、ページ背景は `--bg-secondary`

---

## タイポグラフィ

### フォントファミリー

```css
font-family: 'Roboto', 'Noto Sans JP', sans-serif;
```

### サイズ・ウェイト・行間

| 要素 | サイズ | ウェイト | 行間 | 用途 |
|------|--------|----------|------|------|
| h1 | 24px | 600 | 1.3 | ページタイトル |
| h2 | 20px | 600 | 1.3 | カードタイトル |
| h3 | 16px | 600 | 1.3 | セクション見出し |
| body | 14px | 400 | 1.5 | 本文・入力 |
| caption | 12px | 400 | 1.5 | メタ情報・補足 |

### 使用ルール

- **見出し**: `font-weight: 600` で強調
- **本文**: `font-weight: 400` で可読性重視
- **メタ情報**: `font-size: 12px` または `13px`、`color: --text-secondary`

---

## スペーシング

### スケール

```css
--space-xs: 4px;   /* アイコンとテキストの間隔 */
--space-sm: 8px;   /* 小さな要素間の余白 */
--space-md: 16px;  /* 標準的な要素間の余白 */
--space-lg: 24px;  /* カードパディング・セクション間 */
--space-xl: 32px;  /* 大きなセクション間 */
```

### 使用ルール

- **カードパディング**: `--space-lg` (24px)
- **要素間の余白**: `--space-md` (16px)
- **セクション間**: `--space-lg` または `--space-xl`
- **ツールバー内の要素間**: `--space-md` (16px)

---

## コンポーネントパターン

### 1. ページヘッダー（`.ga-page-header`, `.ga-page-title`, `.ga-page-subtitle`）

**構造**:
```
<header class="page-header">
  <h1 class="page-title">ページタイトル</h1>
  <p class="page-subtitle">補足説明テキスト</p>
</header>
```

**スタイル**:
- `margin-bottom: --space-lg`
- タイトル: `font-size: 24px`, `font-weight: 600`, `color: --text-primary`
- サブタイトル: `font-size: 14px`, `font-weight: 400`, `color: --text-secondary`

**用途**: ページの目的と説明を明確に伝える

---

### 2. ツールバー（検索・フィルタ・メタ情報 / `.ga-toolbar`）

**構造**:
```
<div class="toolbar">
  <div class="toolbar-search">検索入力</div>
  <div class="toolbar-filter">フィルタ選択</div>
  <span class="toolbar-meta">件数表示</span>
</div>
```

**スタイル**:
- `display: flex`, `align-items: center`, `gap: --space-md`
- 全要素の高さを統一（例: `height: 40px`）
- 検索・フィルタは同一の見た目（border + border-radius + padding）

**検索バー**:
```css
.toolbar-search {
  display: flex;
  align-items: center;
  gap: --space-sm;
  height: 40px;
  padding: 0 12px;
  background: --bg-primary;
  border: 1px solid --card-border;
  border-radius: 8px;
}
```

**ドロップダウン（v-select）**:
```css
.toolbar-filter :deep(.v-field) {
  height: 40px;
  padding-inline: 12px 12px;
  border: 1px solid --card-border;
  border-radius: 8px;
  display: flex;
  align-items: center;
}
```

**メタ情報**:
```css
.toolbar-meta {
  font-size: 13px;
  color: --text-secondary;
  line-height: 40px; /* ツールバー高さに合わせる */
}
```

**用途**: 検索・フィルタ・件数表示を同一バーに配置し、操作を統一

---

### 3. カード（`.ga-card`, `.ga-card-header`, `.ga-card-title`, `.ga-card-body`）

**構造**:
```
<section class="card">
  <div class="card-header">
    <h2 class="card-title">カードタイトル</h2>
    <span class="card-meta">メタ情報</span>
  </div>
  <div class="card-body">
    <!-- コンテンツ -->
  </div>
</section>
```

**スタイル**:
```css
.card {
  background: --bg-primary;
  border: 1px solid --card-border;
  border-radius: 12px;
  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);
  overflow: hidden;
  margin-bottom: --space-lg;
}

.card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: --space-lg;
  padding-bottom: --space-md;
}

.card-title {
  font-size: 20px;
  font-weight: 600;
  color: --text-primary;
}

.card-body {
  padding: 0; /* コンテンツに応じて調整 */
}
```

**用途**: 関連するコンテンツをグループ化し、視覚的に分離

---

### 4. テーブル風リスト（アコーディオン / `.ga-list-row`, `.ga-list-cell`）

**構造**:
```
<div class="list-row">
  <button class="list-cell list-question" aria-expanded="true">
    <span class="list-question-text">質問テキスト</span>
    <v-icon class="list-chevron">mdi-chevron-down</v-icon>
  </button>
  <div class="list-answer" role="region" hidden>
    <p class="list-answer-text">回答テキスト</p>
  </div>
</div>
```

**スタイル**:
```css
.list-row + .list-row .list-cell {
  border-top: 1px solid --card-border;
}

.list-cell {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  min-height: 48px;
  padding: --space-md --space-lg;
  background: transparent;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

.list-cell:hover {
  background: --bg-sidebar;
}

.list-cell:focus-visible {
  outline: none;
  box-shadow: inset 0 0 0 3px rgba(26, 115, 232, 0.3);
}

.list-answer {
  padding: 0 --space-lg --space-md;
  background: --bg-secondary;
}

.list-answer-text {
  padding-top: 12px;
  font-size: 14px;
  font-weight: 400;
  color: --text-secondary;
}
```

**用途**: FAQ・設定項目など、クリックで詳細を展開するリスト

---

### 5. 空状態（Empty State / `.ga-empty`）

**構造**:
```
<div class="empty-state">
  <v-icon class="empty-icon">mdi-magnify-close</v-icon>
  <p class="empty-text">該当する項目がありません。</p>
  <p class="empty-hint">検索ワードを変えてお試しください。</p>
</div>
```

**スタイル**:
```css
.empty-state {
  padding: --space-xl --space-lg;
  text-align: center;
}

.empty-icon {
  color: --text-disabled;
  margin-bottom: --space-md;
}

.empty-text {
  font-size: 14px;
  font-weight: 600;
  color: --text-primary;
}

.empty-hint {
  font-size: 14px;
  font-weight: 400;
  color: --text-secondary;
}
```

**用途**: 検索結果0件・データなし時のユーザーガイダンス

---

### 6. 情報バナー（カテゴリ説明など / `.ga-info-banner`）

**構造**:
```
<div class="info-banner">
  <v-icon class="info-icon">mdi-information</v-icon>
  <div>
    <span class="info-title">タイトル</span>
    <span class="info-desc"> — 説明テキスト</span>
  </div>
</div>
```

**スタイル**:
```css
.info-banner {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: --space-md --space-lg;
  margin-bottom: --space-lg;
  background: --brand-light;
  border-radius: 12px;
}

.info-icon {
  color: --brand-primary;
}

.info-title {
  font-weight: 600;
  color: --text-primary;
}

.info-desc {
  color: --text-secondary;
}
```

**用途**: 重要な情報・説明を目立たせて表示

---

### 7. セカンダリカード（問い合わせなど）

**構造**:
```
<section class="card card--secondary">
  <div class="card-body card-body--single">
    <v-icon class="card-icon">mdi-email-outline</v-icon>
    <h2 class="card-title">タイトル</h2>
    <p class="card-desc">説明テキスト</p>
    <a class="card-link">アクションリンク</a>
  </div>
</section>
```

**スタイル**:
```css
.card--secondary .card-body--single {
  padding: --space-lg;
  text-align: center;
}

.card-link {
  display: inline-flex;
  align-items: center;
  gap: --space-xs;
  min-height: 36px;
  padding: --space-sm --space-md;
  font-size: 14px;
  font-weight: 500;
  color: --brand-primary;
  text-decoration: none;
  border-radius: 8px;
  transition: all 0.2s ease-in-out;
}

.card-link:hover {
  color: --brand-hover;
  background: --brand-light;
}
```

**用途**: 補足情報・次のアクションを促すカード

---

## インタラクション

### トランジション

```css
transition: all 0.2s ease-in-out;
```

すべてのインタラクティブ要素（ボタン・リンク・ホバー・フォーカス）に適用。

### フォーカスリング

```css
focus-ring: 0 0 0 3px rgba(26, 115, 232, 0.3);
```

キーボード操作時の視覚的フィードバック。`outline: none` と組み合わせて使用。

### ホバー状態

- **リンク**: `color: --brand-hover`
- **ボタン**: `background: --bg-sidebar` または `--brand-light`
- **テーブル行**: `background: --bg-sidebar`

---

## アクセシビリティ

### ARIA属性

- **検索**: `role="search"`, `aria-label="検索"`
- **アコーディオン**: `aria-expanded`, `aria-controls`, `role="region"`
- **ラベル**: `aria-labelledby` で関連付け

### キーボード操作

- **フォーカス可能要素**: `:focus-visible` でフォーカスリングを表示
- **タブ順序**: 論理的な順序で配置

### スクリーンリーダー

- **見出し階層**: h1 → h2 → h3 の順序を維持
- **隠しテキスト**: `hidden` 属性または `display: none` で非表示コンテンツを適切に処理

---

## レスポンシブデザイン

### ブレークポイント

```css
/* モバイル */
@media (max-width: 599px) {
  .card-header,
  .list-cell,
  .list-answer {
    padding-left: --space-md;
    padding-right: --space-md;
  }
}
```

### モバイル対応

- **ツールバー**: `flex-wrap: wrap` で折り返し
- **パディング**: モバイルでは `--space-md` (16px) に縮小
- **フォントサイズ**: モバイルでも最小14pxを維持

---

## 実装時のチェックリスト

### デザイン準拠

- [ ] `design.protocol.json` の色・タイポ・余白を使用
- [ ] カードは `border-radius: 12px`, `box-shadow: 0px 1px 2px rgba(0,0,0,0.05)`
- [ ] ボタン・入力は `border-radius: 8px`, `height: 40px`（必要に応じて）
- [ ] フォントは `'Roboto', 'Noto Sans JP', sans-serif`

### UX

- [ ] ホバー・フォーカス・アクティブ状態を実装
- [ ] 空状態を適切に表示
- [ ] トランジション（`0.2s ease-in-out`）を適用
- [ ] フォーカスリングを実装

### アクセシビリティ

- [ ] 適切なARIA属性を設定
- [ ] キーボード操作でフォーカス可能
- [ ] 見出し階層（h1 → h2 → h3）を維持
- [ ] コントラスト比を確保

### コード品質

- [ ] CSS変数（`--help-*` など）を使用
- [ ] クラス名は意味のある命名規則（BEM推奨）
- [ ] コメントでセクションを明確に分離

---

## 横展開の例

### 例1: 設定ページ

- **ページヘッダー**: タイトル + 説明
- **ツールバー**: 検索（設定項目を検索）
- **カード**: 設定カテゴリごとにカード化
- **テーブル風リスト**: 設定項目をアコーディオンで表示

### 例2: 通知一覧

- **ページヘッダー**: タイトル + 説明
- **ツールバー**: フィルタ（未読/既読）+ 件数
- **カード**: 通知をカードでリスト表示
- **空状態**: 通知なし時のメッセージ

### 例3: ログ一覧

- **ページヘッダー**: タイトル + 説明
- **ツールバー**: 検索 + 日付フィルタ + 件数
- **カード**: ログエントリをカードで表示
- **テーブル風リスト**: 詳細を展開可能に

---

## 参考資料

- **デザインプロトコル**: `design.protocol.json`
- **共通スタイル**: `frontend/src/styles/ga-design.css`
- **実装例（FAQ）**: `frontend/src/views/help/HelpView.vue`
- **実装例（ダッシュボード）**:
  - 管理者ダッシュボード: `frontend/src/views/admin/DashboardView.vue`
  - 教員ダッシュボード: `frontend/src/views/teacher/DashboardView.vue`
  - 学生ダッシュボード: `frontend/src/views/student/DashboardView.vue`
- **FAQデータ**: `frontend/src/data/faq.ts`

---

## 更新履歴

- **2026-02-11**: 初版作成（FAQ画面の実装を基に設計書化）
