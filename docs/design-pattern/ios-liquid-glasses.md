## iOS リキッドガラスパターン（Liquid Glass）

### 0. このドキュメントの目的

iOS の Liquid Glass（ガラス・リキッド）表現を、どのプロジェクトでも再現できるように「**デザイン設計思想だけ**」をまとめたものです。  
具体的なクラス名・CSS・コンポーネント構成には依存せず、以下のような場面で使えることを想定しています。

- 既存のデザインシステムに「ガラス質感のバリアント」を足したいとき
- ダッシュボードや設定画面に、少しだけ iOS っぽい透明感を加えたいとき
- UI 実装者に「どこまでガラスを使って良いか」のルールを共有したいとき

コードのサンプルはあえて載せていません。  
各プロジェクトで使っている言語・フレームワーク（CSS, Tailwind, UIKit, SwiftUI など）に合わせて、この思想を翻訳して使う前提です。

---

### 1. コアコンセプト

Liquid Glass の要素は大きく 3 つです。

1. **背景レイヤー**  
   - カラフルなグラデーションや写真など、「ガラス越しに見せたい世界」を用意する。
   - ただし情報が多すぎると読みにくくなるため、**模様は控えめ・コントラストは中程度以下**に抑える。

2. **ガラスレイヤー**  
   - 半透明のパネルとして背景の上に重ねる。
   - 特徴は「強めのぼかし（blur）」「わずかな彩度アップ」「光の反射を感じるグラデーション」。

3. **コンテンツレイヤー**  
   - テキスト・アイコン・フォームなど、実際に読まれる情報。
   - ガラスよりも **はっきり・くっきり** 表示する（不透明に近い前景色 + 十分なコントラスト）。

この 3 層が揃って初めて「単なる半透明」ではなく「ガラス越しの UI」として認識されます。

---

### 2. ページ背景パターン

**目的**: 画面全体に「光のゆらぎ」と奥行きを与え、ガラスパネルとのコントラストを作る。

- 背景は、べた塗りではなく **複数のグラデーションを重ねたもの**を基本とする。
  - 例: 角に置いた淡い円形グラデーション + 全体を包む斜めグラデーション。
- 色は中〜低彩度のブルー / シアン / ラベンダー系など、「冷たく・清潔な」トーンが相性が良い。
- 情報リッチな画面（テーブルぎっしり等）では、背景のコントラストをさらに落とし、ガラスパネルの中に情報を集約する。

**設計ポイント**
- 背景だけを見ても、「ここにパネルを置いたら映えそう」という光の流れが見えること。
- それでも、前景テキストとのコントラストが WCAG の推奨値に近づくよう、**最終的にはダークモード／明度調整を合わせて検討**する。

---

### 3. ガラスカードパターン

**目的**: 背景をレンズ越しに見せるメインパネル（設定カード・詳細カード・ダッシュボードのセクションなど）を定義する。

**構成要素**
- 形状:
  - 角丸はやや大きめ（12〜20px 程度）で、厚みを感じさせる。
  - パネル同士の間には十分な余白を取り、「板」が浮いているように見せる。
- 質感:
  - 不透明ではなく、背景がやや透けて見える程度の透明度にする。
  - 薄い白い枠線と、柔らかい外側の影で「ガラスの厚み」を表現する。
- ブラー:
  - 背景がぼやけて見える程度の強度を持たせる（弱すぎるとガラスに見えず、強すぎると情報が潰れる）。

**使いどころ**
- 設定画面のメインパネル
- ダッシュボードの主要セクション
- 詳細ビューやモーダルの内容領域

**NG パターン**
- すべてのカードをガラス化して画面全体を「キラキラ」にしてしまうこと。  
  ⇒ 1 画面あたり 1〜3 個程度にとどめ、他は通常のカードで十分。

---

### 4. ガラスボタンパターン

**目的**: 最重要アクション（例: 保存 / 作成 / 送信）を、液体ジェルのような質感で強調する。

**視覚的特徴**
- ボタン自体は細めの角丸（8〜16px）のピル型。
- 塗りつぶしの一色ではなく、**光源側が少し明るいラジアルグラデーション**を持たせる。
- 外側に淡い光の輪郭線（白〜薄い青）を付けて、背後のガラスや背景から浮き上がらせる。
- 押下時・ホバー時には、わずかに光の位置が変わったように見せる（明度・影の強さの変化）。

**使いどころ**
- 1 画面につき 1 つ、多くても 2 つまで（プライマリアクション専用）。
- セカンダリ・キャンセル系のボタンは、フラット or 低コントラストなテキストボタンにする。

---

### 5. ガラスリスト行パターン

**目的**: 一覧の各行を「小さなガラスチップ」のように見せ、1 行 1 オブジェクトを強調する。

**構造的な考え方**
- 通常のテーブル行（罫線 + 行背景色）の代わりに、**行ごとに独立したカード**として扱う。
- 1 行の中で、左側にメイン情報（タイトルなど）、右側に補助情報（期間・ステータスなど）を配置する。
- 各行の間に縦方向の余白を入れて、行同士が「密集した表」とは違う見え方になるようにする。

**視覚的特徴**
- 小さめの角丸（全体のカードより少し小さい）で、軽いガラスパネルをイメージ。
- 背景は半透明のホワイト系グラデーションで、背後の色がわずかに透ける。
- マウスオーバー / フォーカス時には、透明度・明るさをわずかに変えてインタラクションを示す。

**適用例のイメージ**
- 楽器管理リスト（1 行 = 1 楽器 + 状態）
- 学期一覧（1 行 = 1 学期 + 年度／期間）
- 通知一覧（1 行 = 1 通知 + 日時／種別）

---

### 6. 運用ガイドライン

**1. 使う場所を限定する**

- 画面のすべてを Liquid Glass にしないこと。
- 「ここは特別扱いしたい」という領域にだけ使う：
  - 設定カード
  - 重要なサマリーカード
  - 代表的な一覧

**2. 背景とのコントラストに注意する**

- 背景が写真や濃色グラデーションの場合、ガラスの透明度を上げすぎるとテキストが読みにくくなる。
- テキストのコントラストが不足する場合は、
  - ガラスの不透明度を少し上げる
  - テキスト色を暗くする
  - 影やアウトラインで視認性を補助する  
 などでバランスを取る。

**3. アクセシビリティと設定**

- OS / ブラウザの「透明度を減らす」「コントラストを上げる」設定と相性が悪くならないようにする。
- 将来的に「ガラス効果をオフにするテーマ」を用意できるよう、  
  ガラスの有無が単に「装飾レイヤーの ON/OFF」で済むような構造にしておく。

**4. パフォーマンス**

- ブラーや半透明は、特にモバイルや低スペック環境で描画コストが高い。
- 大量の要素に一斉に適用しないようにし、必要に応じて「軽量版」のスタイルを別途用意する。

---

### 7. Before / After の考え方

Liquid Glass への置き換えは、いきなり全体を変えずに **段階的に進める** のが望ましいです。

1. **ページ背景を整える**  
   - グラデーションや写真を使って、「ガラスを置く土台」となる背景を用意する。
2. **メインカードをガラス化する**  
   - 一番重要なカードだけをガラスパネルにする。
3. **プライマリボタンをガラス化する**  
   - 保存・作成など、1〜2 個のアクションにだけリキッド感のあるボタンを適用する。
4. **重要な一覧だけをガラスリスト行に変える**  
   - テーブルをすべて刷新するのではなく、「代表的な一覧」から順にガラスリスト化する。

この順番で進めることで、「やりすぎて読みにくくなった」「パフォーマンスが落ちた」といったリスクを減らしながら、段階的に Liquid Glass の世界観を取り入れることができます。

---

### 8. まとめ

- Liquid Glass は「半透明にすること」ではなく、「**背景と前景の関係を再設計すること**」が本質です。
- レイヤーをきちんと分け、使う場所を絞り、コントラストとアクセシビリティを意識すれば、  
  どんなデザインシステムの上にも無理なく乗せられるパターンになります。

このドキュメントをベースに、プロジェクト固有のトークン（色・余白・フォント）やクラス名に合わせて、自分たちの Liquid Glass を設計してください。

---

### 9. 付録：代表的なプロパティ値の実装例

ここでは、「どのくらいの値にすると Liquid Glass っぽく見えやすいか」という**目安となるプロパティ値**だけを列挙します。  
クラス名やトークン名は自由に置き換えて構いません。

#### 9-1. 背景レイヤー（ページ全体）

```css
/* 画面全体に適用する背景イメージの一例 */
background:
  radial-gradient(circle at 0% 0%, rgba(59, 130, 246, 0.18), transparent 60%),
  radial-gradient(circle at 100% 100%, rgba(14, 165, 233, 0.16), transparent 55%),
  linear-gradient(135deg, #e5edf7 0%, #f6f7fb 40%, #eef2ff 100%);
```

- **ポイント**
  - 「2 つの淡いラジアルグラデーション + 1 つの大きなリニアグラデーション」という構成。
  - 彩度はあまり高くしすぎない（0.15〜0.25 程度の透明度が上限のイメージ）。

#### 9-2. ガラスカード

```css
/* ガラスカードのベース例 */
border-radius: 16px;
background: linear-gradient(
  135deg,
  rgba(255, 255, 255, 0.22),
  rgba(255, 255, 255, 0.06)
);
border: 1px solid rgba(255, 255, 255, 0.55);
box-shadow:
  0 24px 60px rgba(15, 23, 42, 0.35),
  0 0 0 1px rgba(255, 255, 255, 0.3);
backdrop-filter: blur(18px) saturate(1.4);
/* Safari 対応 */
/* -webkit-backdrop-filter: blur(18px) saturate(1.4); */
```

- **目安**
  - 角丸: 12〜20px
  - blur: 14〜20px（背景の情報量に応じて調整）
  - 影のアルファ値: 0.25〜0.4 程度

#### 9-3. ガラスボタン（プライマリ）

```css
/* プライマリボタンのガラス風スタイル例 */
border-radius: 999px;            /* ピル型 */
padding: 10px 20px;
min-height: 40px;
background: radial-gradient(
  circle at 0% 0%,
  rgba(255, 255, 255, 0.45),
  rgba(255, 255, 255, 0.1)
);
color: #0f172a;
border: 1px solid rgba(255, 255, 255, 0.7);
box-shadow:
  0 12px 30px rgba(15, 23, 42, 0.35),
  0 0 0 1px rgba(148, 163, 184, 0.35);
backdrop-filter: blur(16px) saturate(1.4);
```

- **ポイント**
  - 角丸は「完全なピル型」にすると、よりジェルっぽく見える。
  - 影はカードより少し弱め（距離・ぼかし半径ともに 50〜70% くらい）。

#### 9-4. ガラスリスト行

```css
/* 行どうしの間隔 */
margin-bottom: 8px;

/* 行本体の質感 */
border-radius: 12px;
padding: 12px 20px;
background: linear-gradient(
  135deg,
  rgba(255, 255, 255, 0.25),
  rgba(255, 255, 255, 0.06)
);
border: 1px solid rgba(255, 255, 255, 0.7);
box-shadow:
  0 18px 40px rgba(15, 23, 42, 0.35),
  0 0 0 1px rgba(148, 163, 184, 0.35);
backdrop-filter: blur(18px) saturate(1.4);
```

- **ポイント**
  - カードより一回り軽い質感にする（角丸・影・サイズを少し控えめに）。
  - 行間を十分に空けて、「表」ではなく「チップの一覧」に見せる。

#### 9-5. 透明度と色の目安

- ガラスレイヤーの **背景の透明度**:
  - 0.15〜0.3 程度が扱いやすい（白の場合: `rgba(255,255,255,0.2)` 前後）。
- 背景グラデーションの **色の彩度**:
  - 0.2〜0.5 程度（ビビッドカラーよりも少し落ち着いたトーン）。
- 文字色:
  - ガラス上では、`#101010〜#202124` 程度の十分に暗い色を基本とする。

これらの値はあくまで「最初のたたき台」です。  
最終的には、実際のブランドカラー・フォント・背景画像との組み合わせを見ながら、  
blur の強さ・影の強さ・透明度を少しずつ調整していってください。