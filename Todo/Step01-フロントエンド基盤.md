# Step 01: フロントエンド基盤

## 概要

フロントエンド開発の土台となる共通レイアウト・ナビゲーション・ルーティング・APIクライアントを構築する。

**参照**: [画面一覧](../docs/画面一覧.md) 6. 画面構成要素

## 状態

- [ ] 未実装
- [ ] 実装中
- [ ] 完了

**優先度**: 高

## 実装内容

### 1. レイアウト

| 項目 | 内容 |
|------|------|
| アプリケーションレイアウト | ヘッダー・サイドバー・メインコンテンツ・フッター |
| レスポンシブ | モバイル・タブレット・デスクトップ対応 |
| 認証状態による表示切替 | 未ログイン時とログイン時でレイアウトを切り替え |

### 2. ナビゲーション

| 項目 | 内容 |
|------|------|
| ヘッダー | ロゴ、ユーザー名、通知アイコン、ログアウト |
| サイドバー | ロール（管理者/教員/管理者学生/学生）に応じたメニュー表示 |
| メニュー項目 | ダッシュボード、各機能へのリンク |

### 3. ルーティング

| 項目 | 内容 |
|------|------|
| Vue Router | ルート定義、ネストルート |
| 認証ガード | 未認証時のリダイレクト（/login） |
| ロールガード | 権限に応じたアクセス制御 |
| ルート設計 | 管理者 /admin、教員 /teacher、管理者学生 /student-admin、学生 /student |

### 4. APIクライアント

| 項目 | 内容 |
|------|------|
| Axios | ベースURL、インターセプター |
| CSRF | /sanctum/csrf-cookie の事前取得 |
| 認証 | Bearer トークン付与 |
| エラーハンドリング | 401 → ログインへ、403 → 権限エラー表示 |

### 5. 状態管理（必要に応じて）

| 項目 | 内容 |
|------|------|
| 認証状態 | Pinia または Composition API（provide/inject） |
| ユーザー情報 | ログイン後の /me 取得結果を保持 |

## 成果物

- `frontend/src/layouts/` - レイアウトコンポーネント
- `frontend/src/components/` - 共通コンポーネント（ヘッダー、サイドバー）
- `frontend/src/router/` - ルート定義、ガード
- `frontend/src/api/` - APIクライアント拡張
- `frontend/src/stores/` - 認証ストア（Pinia 使用時）

## 依存関係

- なし（最初のステップ）

## 実装工数目安

| 作業 | 見積もり |
|------|----------|
| レイアウト・ナビゲーション | 2h |
| ルーティング・ガード | 1.5h |
| APIクライアント・認証 | 1.5h |
| **合計** | **約 5 時間** |
